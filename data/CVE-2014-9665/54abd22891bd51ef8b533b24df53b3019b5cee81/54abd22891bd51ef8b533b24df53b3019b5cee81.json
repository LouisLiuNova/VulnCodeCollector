{
    "owner": "freetype",
    "repo": "freetype",
    "commit_sha": "54abd22891bd51ef8b533b24df53b3019b5cee81",
    "commit_massage": "[sfnt] Fix Savannah bug #43597.\n\n* src/sfnt/pngshim.c (Load_SBit_Png): Protect against too large\nbitmaps.",
    "raw_ref": "https://api.github.com/repos/freetype/freetype/commits/54abd22891bd51ef8b533b24df53b3019b5cee81",
    "html_ref": "https://github.com/freetype/freetype/commit/54abd22891bd51ef8b533b24df53b3019b5cee81",
    "author": "lemzwerg",
    "changes_stats": {
        "total": 14,
        "additions": 14,
        "deletions": 0
    },
    "files": [
        {
            "sha": "4cebb38bd1cf6d2bced835d44a1ae7051402c669",
            "filename": "ChangeLog",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/freetype/freetype/blob/54abd22891bd51ef8b533b24df53b3019b5cee81/ChangeLog",
            "raw_url": "https://github.com/freetype/freetype/raw/54abd22891bd51ef8b533b24df53b3019b5cee81/ChangeLog",
            "contents_url": "https://api.github.com/repos/freetype/freetype/contents/ChangeLog?ref=54abd22891bd51ef8b533b24df53b3019b5cee81",
            "patch": "@@ -1,3 +1,10 @@\n+2014-11-15  Werner Lemberg  <wl@gnu.org>\n+\n+\t[sfnt] Fix Savannah bug #43597.\n+\n+\t* src/sfnt/pngshim.c (Load_SBit_Png): Protect against too large\n+\tbitmaps.\n+\n 2014-11-12  Werner Lemberg  <wl@gnu.org>\n \n \t[sfnt] Fix Savannah bug #43591."
        },
        {
            "sha": "fdb15d4ede0303c7d6a6370afcca88521f7d76f0",
            "filename": "src/sfnt/pngshim.c",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/freetype/freetype/blob/54abd22891bd51ef8b533b24df53b3019b5cee81/src%2Fsfnt%2Fpngshim.c",
            "raw_url": "https://github.com/freetype/freetype/raw/54abd22891bd51ef8b533b24df53b3019b5cee81/src%2Fsfnt%2Fpngshim.c",
            "contents_url": "https://api.github.com/repos/freetype/freetype/contents/src%2Fsfnt%2Fpngshim.c?ref=54abd22891bd51ef8b533b24df53b3019b5cee81",
            "patch": "@@ -269,6 +269,13 @@\n       map->pitch      = map->width * 4;\n       map->num_grays  = 256;\n \n+      /* reject too large bitmaps similarly to the rasterizer */\n+      if ( map->rows > 0x7FFF || map->width > 0x7FFF )\n+      {\n+        error = FT_THROW( Array_Too_Large );\n+        goto DestroyExit;\n+      }\n+\n       size = map->rows * map->pitch;\n \n       error = ft_glyphslot_alloc_bitmap( slot, size );"
        }
    ],
    "parent_commit_sha": "257c270bd25e15890190a28a1456e7623bba4439"
}