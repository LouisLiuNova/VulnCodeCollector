{
    "owner": "FFmpeg",
    "repo": "FFmpeg",
    "commit_sha": "7d57ca4d9a75562fa32e40766211de150f8b3ee7",
    "commit_massage": "avformat/rtmppkt: Check for packet size mismatches\n\nFixes out of array access\n\nFound-by: Paul Cher <paulcher@icloud.com>\nReviewed-by: Paul Cher <paulcher@icloud.com>\nSigned-off-by: Michael Niedermayer <michael@niedermayer.cc>",
    "raw_ref": "https://api.github.com/repos/FFmpeg/FFmpeg/commits/7d57ca4d9a75562fa32e40766211de150f8b3ee7",
    "html_ref": "https://github.com/FFmpeg/FFmpeg/commit/7d57ca4d9a75562fa32e40766211de150f8b3ee7",
    "author": "michaelni",
    "changes_stats": {
        "total": 8,
        "additions": 8,
        "deletions": 0
    },
    "files": [
        {
            "sha": "cde0da78ce144b23a74944e17080b5fca86587ec",
            "filename": "libavformat/rtmppkt.c",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/FFmpeg/FFmpeg/blob/7d57ca4d9a75562fa32e40766211de150f8b3ee7/libavformat%2Frtmppkt.c",
            "raw_url": "https://github.com/FFmpeg/FFmpeg/raw/7d57ca4d9a75562fa32e40766211de150f8b3ee7/libavformat%2Frtmppkt.c",
            "contents_url": "https://api.github.com/repos/FFmpeg/FFmpeg/contents/libavformat%2Frtmppkt.c?ref=7d57ca4d9a75562fa32e40766211de150f8b3ee7",
            "patch": "@@ -235,6 +235,14 @@ static int rtmp_packet_read_one_chunk(URLContext *h, RTMPPacket *p,\n     if (hdr != RTMP_PS_TWELVEBYTES)\n         timestamp += prev_pkt[channel_id].timestamp;\n \n+    if (prev_pkt[channel_id].read && size != prev_pkt[channel_id].size) {\n+        av_log(NULL, AV_LOG_ERROR, \"RTMP packet size mismatch %d != %d\\n\",\n+                size,\n+                prev_pkt[channel_id].size);\n+        ff_rtmp_packet_destroy(&prev_pkt[channel_id]);\n+        prev_pkt[channel_id].read = 0;\n+    }\n+\n     if (!prev_pkt[channel_id].read) {\n         if ((ret = ff_rtmp_packet_create(p, channel_id, type, timestamp,\n                                          size)) < 0)"
        }
    ],
    "parent_commit_sha": "d903b4e3ad4a81b3dd79f12c2f3b9cb16e511173"
}