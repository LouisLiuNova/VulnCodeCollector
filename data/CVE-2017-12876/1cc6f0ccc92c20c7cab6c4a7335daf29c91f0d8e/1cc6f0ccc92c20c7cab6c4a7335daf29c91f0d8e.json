{
    "owner": "ImageMagick",
    "repo": "ImageMagick",
    "commit_sha": "1cc6f0ccc92c20c7cab6c4a7335daf29c91f0d8e",
    "commit_massage": "https://github.com/ImageMagick/ImageMagick/issues/663\nhttps://github.com/ImageMagick/ImageMagick/issues/655",
    "raw_ref": "https://api.github.com/repos/ImageMagick/ImageMagick/commits/1cc6f0ccc92c20c7cab6c4a7335daf29c91f0d8e",
    "html_ref": "https://github.com/ImageMagick/ImageMagick/commit/1cc6f0ccc92c20c7cab6c4a7335daf29c91f0d8e",
    "author": "Cristy",
    "changes_stats": {
        "total": 5,
        "additions": 5,
        "deletions": 0
    },
    "files": [
        {
            "sha": "dba7880553faeb0fdc57e7d82e52d9eea68c7ed6",
            "filename": "MagickCore/enhance.c",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/ImageMagick/ImageMagick/blob/1cc6f0ccc92c20c7cab6c4a7335daf29c91f0d8e/MagickCore%2Fenhance.c",
            "raw_url": "https://github.com/ImageMagick/ImageMagick/raw/1cc6f0ccc92c20c7cab6c4a7335daf29c91f0d8e/MagickCore%2Fenhance.c",
            "contents_url": "https://api.github.com/repos/ImageMagick/ImageMagick/contents/MagickCore%2Fenhance.c?ref=1cc6f0ccc92c20c7cab6c4a7335daf29c91f0d8e",
            "patch": "@@ -45,6 +45,7 @@\n #include \"MagickCore/artifact.h\"\n #include \"MagickCore/attribute.h\"\n #include \"MagickCore/cache.h\"\n+#include \"MagickCore/cache-private.h\"\n #include \"MagickCore/cache-view.h\"\n #include \"MagickCore/channel.h\"\n #include \"MagickCore/color.h\"\n@@ -1047,6 +1048,8 @@ MagickExport MagickBooleanType ContrastStretchImage(Image *image,\n   assert(image->signature == MagickCoreSignature);\n   if (image->debug != MagickFalse)\n     (void) LogMagickEvent(TraceEvent,GetMagickModule(),\"%s\",image->filename);\n+  if (SyncImagePixelCache(image,exception) == MagickFalse)\n+    return(MagickFalse);\n   if (SetImageGray(image,exception) != MagickFalse)\n     (void) SetImageColorspace(image,GRAYColorspace,exception);\n   black=(double *) AcquireQuantumMemory(GetPixelChannels(image),sizeof(*black));\n@@ -1530,6 +1533,8 @@ MagickExport MagickBooleanType EqualizeImage(Image *image,\n   */\n   assert(image != (Image *) NULL);\n   assert(image->signature == MagickCoreSignature);\n+  if (SyncImagePixelCache(image,exception) == MagickFalse)\n+    return(MagickFalse);\n #if defined(MAGICKCORE_OPENCL_SUPPORT)\n   if (AccelerateEqualizeImage(image,exception) != MagickFalse)\n     return(MagickTrue);"
        }
    ],
    "parent_commit_sha": "04178de2247e353fc095846784b9a10fefdbf890"
}