{
    "owner": "freetype",
    "repo": "freetype",
    "commit_sha": "7bbb91fbf47fc0775cc9705673caf0c47a81f94b",
    "commit_massage": "[sfnt] Another fix for buggy variation fonts.\n\nReported as\n\n  https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=759\n\n* src/sfnt/sfobjs.c (sfnt_init_face): While setting number of\ninstances to zero for `CFF' fonts table, ensure that there is no\n`CFF2' present also (which gets priority).",
    "raw_ref": "https://api.github.com/repos/freetype/freetype/commits/7bbb91fbf47fc0775cc9705673caf0c47a81f94b",
    "html_ref": "https://github.com/freetype/freetype/commit/7bbb91fbf47fc0775cc9705673caf0c47a81f94b",
    "author": "lemzwerg",
    "changes_stats": {
        "total": 16,
        "additions": 15,
        "deletions": 1
    },
    "files": [
        {
            "sha": "b1158369be35b3ff9841419dcfc334083ac0def1",
            "filename": "ChangeLog",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/freetype/freetype/blob/7bbb91fbf47fc0775cc9705673caf0c47a81f94b/ChangeLog",
            "raw_url": "https://github.com/freetype/freetype/raw/7bbb91fbf47fc0775cc9705673caf0c47a81f94b/ChangeLog",
            "contents_url": "https://api.github.com/repos/freetype/freetype/contents/ChangeLog?ref=7bbb91fbf47fc0775cc9705673caf0c47a81f94b",
            "patch": "@@ -1,3 +1,15 @@\n+2017-03-08  Werner Lemberg  <wl@gnu.org>\n+\n+\t[sfnt] Another fix for buggy variation fonts.\n+\n+\tReported as\n+\n+\t  https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=759\n+\n+\t* src/sfnt/sfobjs.c (sfnt_init_face): While setting number of\n+\tinstances to zero for `CFF' fonts table, ensure that there is no\n+\t`CFF2' present also (which gets priority).\n+\n 2017-03-07  Werner Lemberg  <wl@gnu.org>\n \n \t[sfnt] Improve handling for buggy variation fonts."
        },
        {
            "sha": "54912c500c613a490a2c8c0a327c252d5ed65c57",
            "filename": "src/sfnt/sfobjs.c",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/freetype/freetype/blob/7bbb91fbf47fc0775cc9705673caf0c47a81f94b/src%2Fsfnt%2Fsfobjs.c",
            "raw_url": "https://github.com/freetype/freetype/raw/7bbb91fbf47fc0775cc9705673caf0c47a81f94b/src%2Fsfnt%2Fsfobjs.c",
            "contents_url": "https://api.github.com/repos/freetype/freetype/contents/src%2Fsfnt%2Fsfobjs.c?ref=7bbb91fbf47fc0775cc9705673caf0c47a81f94b",
            "patch": "@@ -1058,8 +1058,10 @@\n       FT_FREE( default_values );\n       FT_FREE( instance_values );\n \n-      /* we don't support Multiple Master CFFs yet */\n+      /* we don't support Multiple Master CFFs yet; */\n+      /* note that `glyf' or `CFF2' have precedence */\n       if ( face->goto_table( face, TTAG_glyf, stream, 0 ) &&\n+           face->goto_table( face, TTAG_CFF2, stream, 0 ) &&\n            !face->goto_table( face, TTAG_CFF, stream, 0 ) )\n         num_instances = 0;\n "
        }
    ],
    "parent_commit_sha": "7d7aae1de3e2aea5bad2e92b0f9d074bd5130ecd"
}