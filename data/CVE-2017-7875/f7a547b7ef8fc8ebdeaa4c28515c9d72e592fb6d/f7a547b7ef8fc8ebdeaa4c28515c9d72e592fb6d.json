{
    "owner": "derf",
    "repo": "feh",
    "commit_sha": "f7a547b7ef8fc8ebdeaa4c28515c9d72e592fb6d",
    "commit_massage": "Fix double-free/OOB-write while receiving IPC data\n\nIf a malicious client pretends to be the E17 window manager, it is\npossible to trigger an out of boundary heap write while receiving an\nIPC message.\n\nThe length of the already received message is stored in an unsigned\nshort, which overflows after receiving 64 KB of data. It's comparably\nsmall amount of data and therefore achievable for an attacker.\n\nWhen len overflows, realloc() will either be called with a small value\nand therefore chars will be appended out of bounds, or len + 1 will be\nexactly 0, in which case realloc() behaves like free(). This could be\nabused for a later double-free attack as it's even possible to overwrite\nthe free information -- but this depends on the malloc implementation.\n\nSigned-off-by: Tobias Stoeckmann <tobias@stoeckmann.org>",
    "raw_ref": "https://api.github.com/repos/derf/feh/commits/f7a547b7ef8fc8ebdeaa4c28515c9d72e592fb6d",
    "html_ref": "https://github.com/derf/feh/commit/f7a547b7ef8fc8ebdeaa4c28515c9d72e592fb6d",
    "author": "stoeckmann",
    "changes_stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    },
    "files": [
        {
            "sha": "93994b3d6a9f34cea681de98192119e35faa661e",
            "filename": "src/wallpaper.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/derf/feh/blob/f7a547b7ef8fc8ebdeaa4c28515c9d72e592fb6d/src%2Fwallpaper.c",
            "raw_url": "https://github.com/derf/feh/raw/f7a547b7ef8fc8ebdeaa4c28515c9d72e592fb6d/src%2Fwallpaper.c",
            "contents_url": "https://api.github.com/repos/derf/feh/contents/src%2Fwallpaper.c?ref=f7a547b7ef8fc8ebdeaa4c28515c9d72e592fb6d",
            "patch": "@@ -795,7 +795,7 @@ char *enl_ipc_get(const char *msg_data)\n {\n \n \tstatic char *message = NULL;\n-\tstatic unsigned short len = 0;\n+\tstatic size_t len = 0;\n \tchar buff[13], *ret_msg = NULL;\n \tregister unsigned char i;\n \tunsigned char blen;"
        }
    ],
    "parent_commit_sha": "a0072d60705b9764970d435ec59dfc5c53158748"
}