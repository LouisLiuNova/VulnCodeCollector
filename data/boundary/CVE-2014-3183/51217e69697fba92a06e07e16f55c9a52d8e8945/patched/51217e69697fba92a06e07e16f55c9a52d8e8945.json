{
    "owner": "torvalds",
    "repo": "linux",
    "commit_sha": "51217e69697fba92a06e07e16f55c9a52d8e8945",
    "commit_massage": "HID: logitech: fix bounds checking on LED report size\n\nThe check on report size for REPORT_TYPE_LEDS in logi_dj_ll_raw_request()\nis wrong; the current check doesn't make any sense -- the report allocated\nby HID core in hid_hw_raw_request() can be much larger than\nDJREPORT_SHORT_LENGTH, and currently logi_dj_ll_raw_request() doesn't\nhandle this properly at all.\n\nFix the check by actually trimming down the report size properly if it is\ntoo large.\n\nCc: stable@vger.kernel.org\nReported-by: Ben Hawkes <hawkes@google.com>\nReviewed-by: Benjamin Tissoires <benjamin.tissoires@redhat.com>\nSigned-off-by: Jiri Kosina <jkosina@suse.cz>",
    "raw_ref": "https://api.github.com/repos/torvalds/linux/commits/51217e69697fba92a06e07e16f55c9a52d8e8945",
    "html_ref": "https://github.com/torvalds/linux/commit/51217e69697fba92a06e07e16f55c9a52d8e8945",
    "author": "Jiri Kosina",
    "changes_stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    },
    "files": [
        {
            "sha": "ca0ab5112efd6e152b0f5d6a6fd044da0bd33089",
            "filename": "drivers/hid/hid-logitech-dj.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/torvalds/linux/blob/51217e69697fba92a06e07e16f55c9a52d8e8945/drivers%2Fhid%2Fhid-logitech-dj.c",
            "raw_url": "https://github.com/torvalds/linux/raw/51217e69697fba92a06e07e16f55c9a52d8e8945/drivers%2Fhid%2Fhid-logitech-dj.c",
            "contents_url": "https://api.github.com/repos/torvalds/linux/contents/drivers%2Fhid%2Fhid-logitech-dj.c?ref=51217e69697fba92a06e07e16f55c9a52d8e8945",
            "patch": "@@ -557,7 +557,7 @@ static int logi_dj_ll_raw_request(struct hid_device *hid,\n \tif (!out_buf)\n \t\treturn -ENOMEM;\n \n-\tif (count < DJREPORT_SHORT_LENGTH - 2)\n+\tif (count > DJREPORT_SHORT_LENGTH - 2)\n \t\tcount = DJREPORT_SHORT_LENGTH - 2;\n \n \tout_buf[0] = REPORT_ID_DJ_SHORT;"
        }
    ],
    "parent_commit_sha": "29ff66571d38f01c5a5d3af871401b8a65323422"
}