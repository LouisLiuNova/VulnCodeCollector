{
    "owner": "ImageMagick",
    "repo": "ImageMagick",
    "commit_sha": "ef59bd764f88d893f1219fee8ba696a5d3f8c1c4",
    "commit_massage": "There is a Division by Zero in function OptimizeLayerFrames (#2743)\n\nin file MagickCore/layer.c. cur->ticks_per_seconds can be zero\r\nwith a crafted input argument *image. This is similar to\r\nCVE-2019-13454.",
    "raw_ref": "https://api.github.com/repos/ImageMagick/ImageMagick/commits/ef59bd764f88d893f1219fee8ba696a5d3f8c1c4",
    "html_ref": "https://github.com/ImageMagick/ImageMagick/commit/ef59bd764f88d893f1219fee8ba696a5d3f8c1c4",
    "author": "bonniegong",
    "changes_stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    },
    "files": [
        {
            "sha": "63bda6d1a7612838a4ef012f6c1e3770bfe46b0d",
            "filename": "MagickCore/layer.c",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/ImageMagick/ImageMagick/blob/ef59bd764f88d893f1219fee8ba696a5d3f8c1c4/MagickCore%2Flayer.c",
            "raw_url": "https://github.com/ImageMagick/ImageMagick/raw/ef59bd764f88d893f1219fee8ba696a5d3f8c1c4/MagickCore%2Flayer.c",
            "contents_url": "https://api.github.com/repos/ImageMagick/ImageMagick/contents/MagickCore%2Flayer.c?ref=ef59bd764f88d893f1219fee8ba696a5d3f8c1c4",
            "patch": "@@ -1352,11 +1352,13 @@ static Image *OptimizeLayerFrames(const Image *image,const LayerMethod method,\n     if ( disposals[i] == DelDispose ) {\n       size_t time = 0;\n       while ( disposals[i] == DelDispose ) {\n-        time += curr->delay*1000/curr->ticks_per_second;\n+        time +=(size_t) (curr->delay*1000*\n+          PerceptibleReciprocal((double) curr->ticks_per_second));\n         curr=GetNextImageInList(curr);\n         i++;\n       }\n-      time += curr->delay*1000/curr->ticks_per_second;\n+      time += (size_t)(curr->delay*1000*\n+        PerceptibleReciprocal((double) curr->ticks_per_second));\n       prev_image->ticks_per_second = 100L;\n       prev_image->delay = time*prev_image->ticks_per_second/1000;\n     }"
        }
    ],
    "parent_commit_sha": "05cac328e8dc2bd8ce07e013c270c6cc81bb9414"
}