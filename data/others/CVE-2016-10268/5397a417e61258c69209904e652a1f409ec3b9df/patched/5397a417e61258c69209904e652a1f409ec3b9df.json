{
    "owner": "vadz",
    "repo": "libtiff",
    "commit_sha": "5397a417e61258c69209904e652a1f409ec3b9df",
    "commit_massage": "* tools/tiffcp.c: avoid uint32 underflow in cpDecodedStrips that\ncan cause various issues, such as buffer overflows in the library.\nReported by Agostino Sarubbo.\nFixes http://bugzilla.maptools.org/show_bug.cgi?id=2598",
    "raw_ref": "https://api.github.com/repos/vadz/libtiff/commits/5397a417e61258c69209904e652a1f409ec3b9df",
    "html_ref": "https://github.com/vadz/libtiff/commit/5397a417e61258c69209904e652a1f409ec3b9df",
    "author": "erouault",
    "changes_stats": {
        "total": 9,
        "additions": 8,
        "deletions": 1
    },
    "files": [
        {
            "sha": "0f154d66245de17fb6b67bff5f307864de9c8fec",
            "filename": "ChangeLog",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/vadz/libtiff/blob/5397a417e61258c69209904e652a1f409ec3b9df/ChangeLog",
            "raw_url": "https://github.com/vadz/libtiff/raw/5397a417e61258c69209904e652a1f409ec3b9df/ChangeLog",
            "contents_url": "https://api.github.com/repos/vadz/libtiff/contents/ChangeLog?ref=5397a417e61258c69209904e652a1f409ec3b9df",
            "patch": "@@ -1,3 +1,10 @@\n+2016-12-02 Even Rouault <even.rouault at spatialys.com>\n+\n+\t* tools/tiffcp.c: avoid uint32 underflow in cpDecodedStrips that \n+\tcan cause various issues, such as buffer overflows in the library.\n+\tReported by Agostino Sarubbo.\n+\tFixes http://bugzilla.maptools.org/show_bug.cgi?id=2598\n+\n 2016-12-02 Even Rouault <even.rouault at spatialys.com>\n \n \t* libtiff/tif_read.c, libtiff/tiffiop.h: fix uint32 overflow in"
        },
        {
            "sha": "f294ed104e8ce93404ecca28ed437615630c4258",
            "filename": "tools/tiffcp.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/vadz/libtiff/blob/5397a417e61258c69209904e652a1f409ec3b9df/tools%2Ftiffcp.c",
            "raw_url": "https://github.com/vadz/libtiff/raw/5397a417e61258c69209904e652a1f409ec3b9df/tools%2Ftiffcp.c",
            "contents_url": "https://api.github.com/repos/vadz/libtiff/contents/tools%2Ftiffcp.c?ref=5397a417e61258c69209904e652a1f409ec3b9df",
            "patch": "@@ -985,7 +985,7 @@ DECLAREcpFunc(cpDecodedStrips)\n \t\ttstrip_t s, ns = TIFFNumberOfStrips(in);\n \t\tuint32 row = 0;\n \t\t_TIFFmemset(buf, 0, stripsize);\n-\t\tfor (s = 0; s < ns; s++) {\n+\t\tfor (s = 0; s < ns && row < imagelength; s++) {\n \t\t\ttsize_t cc = (row + rowsperstrip > imagelength) ?\n \t\t\t    TIFFVStripSize(in, imagelength - row) : stripsize;\n \t\t\tif (TIFFReadEncodedStrip(in, s, buf, cc) < 0"
        }
    ],
    "parent_commit_sha": "438274f938e046d33cb0e1230b41da32ffe223e1"
}