{
    "owner": "qemu",
    "repo": "qemu",
    "commit_sha": "da885fe1ee8b4589047484bd7fa05a4905b52b17",
    "commit_massage": "device_tree.c: Don't use load_image()\n\nThe load_image() function is deprecated, as it does not let the\ncaller specify how large the buffer to read the file into is.\nInstead use load_image_size().\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Michael S. Tsirkin <mst@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nMessage-id: 20181130151712.2312-9-peter.maydell@linaro.org",
    "raw_ref": "https://api.github.com/repos/qemu/qemu/commits/da885fe1ee8b4589047484bd7fa05a4905b52b17",
    "html_ref": "https://github.com/qemu/qemu/commit/da885fe1ee8b4589047484bd7fa05a4905b52b17",
    "author": "pm215",
    "changes_stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    },
    "files": [
        {
            "sha": "296278e12ae01020e7c0b8564587a7fa4d2dcf16",
            "filename": "device_tree.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/qemu/qemu/blob/da885fe1ee8b4589047484bd7fa05a4905b52b17/device_tree.c",
            "raw_url": "https://github.com/qemu/qemu/raw/da885fe1ee8b4589047484bd7fa05a4905b52b17/device_tree.c",
            "contents_url": "https://api.github.com/repos/qemu/qemu/contents/device_tree.c?ref=da885fe1ee8b4589047484bd7fa05a4905b52b17",
            "patch": "@@ -91,7 +91,7 @@ void *load_device_tree(const char *filename_path, int *sizep)\n     /* First allocate space in qemu for device tree */\n     fdt = g_malloc0(dt_size);\n \n-    dt_file_load_size = load_image(filename_path, fdt);\n+    dt_file_load_size = load_image_size(filename_path, fdt, dt_size);\n     if (dt_file_load_size < 0) {\n         error_report(\"Unable to open device tree file '%s'\",\n                      filename_path);"
        }
    ],
    "parent_commit_sha": "93e8c20110c69dbaa711838a14b131bdb6fab643"
}