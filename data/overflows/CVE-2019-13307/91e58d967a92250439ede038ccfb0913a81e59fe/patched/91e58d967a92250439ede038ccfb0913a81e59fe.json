{
    "owner": "ImageMagick",
    "repo": "ImageMagick6",
    "commit_sha": "91e58d967a92250439ede038ccfb0913a81e59fe",
    "commit_massage": "https://github.com/ImageMagick/ImageMagick/issues/1615",
    "raw_ref": "https://api.github.com/repos/ImageMagick/ImageMagick6/commits/91e58d967a92250439ede038ccfb0913a81e59fe",
    "html_ref": "https://github.com/ImageMagick/ImageMagick6/commit/91e58d967a92250439ede038ccfb0913a81e59fe",
    "author": "Cristy",
    "changes_stats": {
        "total": 11,
        "additions": 5,
        "deletions": 6
    },
    "files": [
        {
            "sha": "2cf7830a398165cd5b0419123c0565e138964524",
            "filename": "magick/statistic.c",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/ImageMagick/ImageMagick6/blob/91e58d967a92250439ede038ccfb0913a81e59fe/magick%2Fstatistic.c",
            "raw_url": "https://github.com/ImageMagick/ImageMagick6/raw/91e58d967a92250439ede038ccfb0913a81e59fe/magick%2Fstatistic.c",
            "contents_url": "https://api.github.com/repos/ImageMagick/ImageMagick6/contents/magick%2Fstatistic.c?ref=91e58d967a92250439ede038ccfb0913a81e59fe",
            "patch": "@@ -163,18 +163,17 @@ static MagickPixelPacket **AcquirePixelThreadSet(const Image *images)\n \n   size_t\n     columns,\n-    number_threads;\n+    rows;\n \n-  number_threads=(size_t) GetMagickResourceLimit(ThreadResource);\n-  pixels=(MagickPixelPacket **) AcquireQuantumMemory(number_threads,\n-    sizeof(*pixels));\n+  rows=MagickMax(GetImageListLength(images),\n+    (size_t) GetMagickResourceLimit(ThreadResource));\n+  pixels=(MagickPixelPacket **) AcquireQuantumMemory(rows,sizeof(*pixels));\n   if (pixels == (MagickPixelPacket **) NULL)\n     return((MagickPixelPacket **) NULL);\n-  (void) memset(pixels,0,number_threads*sizeof(*pixels));\n   columns=images->columns;\n   for (next=images; next != (Image *) NULL; next=next->next)\n     columns=MagickMax(next->columns,columns);\n-  for (i=0; i < (ssize_t) number_threads; i++)\n+  for (i=0; i < (ssize_t) rows; i++)\n   {\n     pixels[i]=(MagickPixelPacket *) AcquireQuantumMemory(columns,\n       sizeof(**pixels));"
        }
    ],
    "parent_commit_sha": "bfa3b9610c83227894c92b0d312ad327fceb6241"
}